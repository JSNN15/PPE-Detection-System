# ==================================
# CONFIGURACIÓN GENERAL
# ==================================
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO
TIMEZONE=America/Santiago

# ==================================
# AZURE CONFIGURATION (Solución Cloud)
# ==================================
# Azure Custom Vision / Computer Vision
AZURE_CUSTOM_VISION_ENDPOINT=https://your-region.api.cognitive.microsoft.com
AZURE_CUSTOM_VISION_KEY=your_custom_vision_key_here
AZURE_CUSTOM_VISION_PROJECT_ID=your_project_id_here
AZURE_CUSTOM_VISION_PUBLISHED_NAME=Iteration1

# Azure Storage (para guardar logs, imágenes, etc.)
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccountname;AccountKey=yourkey;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=ppe-detections

# Azure Event Hub (para streaming de eventos)
AZURE_EVENTHUB_CONNECTION_STRING=Endpoint=sb://your-namespace.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=yourkey
AZURE_EVENTHUB_NAME=ppe-events

# Azure IoT Hub (opcional, para gestión de cámaras)
AZURE_IOT_HUB_CONNECTION_STRING=HostName=your-iothub.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=yourkey

# ==================================
# OPEN SOURCE CONFIGURATION (Solución Gratuita)
# ==================================
# Modelo YOLO local
YOLO_MODEL_PATH=models/yolov8n-ppe.pt  # Ruta al modelo entrenado
YOLO_CONFIDENCE_THRESHOLD=0.7
YOLO_IOU_THRESHOLD=0.45

# Roboflow (para entrenamiento y dataset management - tier gratuito)
ROBOFLOW_API_KEY=your_roboflow_api_key_here
ROBOFLOW_WORKSPACE=your-workspace
ROBOFLOW_PROJECT=ppe-detection
ROBOFLOW_VERSION=1

# ==================================
# CÁMARAS IP
# ==================================
# Credenciales de cámaras (usar una variable por cámara)
CAM_001_PASSWORD=camera_password_1
CAM_002_PASSWORD=camera_password_2
CAM_003_PASSWORD=camera_password_3

# ==================================
# MQTT CONFIGURATION (Node-RED Integration)
# ==================================
MQTT_ENABLED=true
MQTT_BROKER_HOST=localhost  # o IP de tu servidor MQTT
MQTT_BROKER_PORT=1883
MQTT_USERNAME=ppe_detector
MQTT_PASSWORD=your_mqtt_password
MQTT_TOPIC_PREFIX=ppe_detection
MQTT_QOS=1
MQTT_RETAIN=false

# MQTT TLS/SSL (para producción)
MQTT_USE_TLS=false
MQTT_CA_CERT_PATH=/path/to/ca.crt
MQTT_CLIENT_CERT_PATH=/path/to/client.crt
MQTT_CLIENT_KEY_PATH=/path/to/client.key

# ==================================
# WEBHOOK CONFIGURATION (Node-RED Integration)
# ==================================
WEBHOOK_ENABLED=true
WEBHOOK_URL=http://your-nodered-server:1880/ppe-webhook
WEBHOOK_METHOD=POST
WEBHOOK_TIMEOUT_SECONDS=10
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_AUTH_TYPE=none  # none, basic, bearer, api_key

# Webhook Authentication (si es necesario)
WEBHOOK_USERNAME=webhook_user
WEBHOOK_PASSWORD=webhook_password
WEBHOOK_BEARER_TOKEN=your_bearer_token
WEBHOOK_API_KEY=your_api_key
WEBHOOK_API_KEY_HEADER=X-API-Key

# ==================================
# DATABASE CONFIGURATION
# ==================================
# InfluxDB (Open Source - time series)
INFLUXDB_ENABLED=true
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token
INFLUXDB_ORG=your_organization
INFLUXDB_BUCKET=ppe_detections

# SQLite (alternativa simple)
SQLITE_DB_PATH=data/ppe_detections.db

# ==================================
# DASHBOARD CONFIGURATION
# ==================================
# Streamlit Dashboard
DASHBOARD_ENABLED=true
DASHBOARD_PORT=8501
DASHBOARD_HOST=0.0.0.0

# Grafana (Open Source)
GRAFANA_ENABLED=true
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your_grafana_api_key

# ==================================
# EXPORT CONFIGURATION
# ==================================
CSV_EXPORT_ENABLED=true
CSV_EXPORT_PATH=exports/
CSV_EXPORT_INTERVAL_MINUTES=60

# ==================================
# ALERTAS Y NOTIFICACIONES
# ==================================
# Email alerts (opcional)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=ppe-detector@company.com
SMTP_TO=safety@company.com

# Telegram alerts (opcional)
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# ==================================
# PERFORMANCE Y OPTIMIZACIÓN
# ==================================
# Threading y procesamiento
MAX_WORKERS=4  # Número de cámaras a procesar en paralelo
FRAME_BUFFER_SIZE=10
PROCESS_EVERY_N_FRAMES=2  # Procesar 1 de cada N frames

# GPU (si está disponible)
USE_GPU=false
GPU_DEVICE_ID=0

# ==================================
# DEVELOPMENT Y DEBUG
# ==================================
DEBUG_MODE=false
SAVE_DEBUG_IMAGES=false
DEBUG_IMAGES_PATH=debug/images/
SHOW_PREVIEW_WINDOW=false

# ==================================
# SEGURIDAD
# ==================================
# API Key para la aplicación (si expones una API)
API_KEY=your_secure_api_key_here
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501

# ==================================
# LEGACY (del proyecto original Gemini)
# ==================================
# Google Gemini API (opcional, si quieres mantener funcionalidad de chat)
GOOGLE_API_KEY=your_google_api_key_here
